{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/PC/Desktop/A_project/waimai/hnqt_xcx/pages-other/electronics/tijiaodingdan.vue?d52a","webpack:///C:/Users/PC/Desktop/A_project/waimai/hnqt_xcx/pages-other/electronics/tijiaodingdan.vue?0cfe","webpack:///C:/Users/PC/Desktop/A_project/waimai/hnqt_xcx/pages-other/electronics/tijiaodingdan.vue?c34d","webpack:///C:/Users/PC/Desktop/A_project/waimai/hnqt_xcx/pages-other/electronics/tijiaodingdan.vue?5d33","uni-app:///pages-other/electronics/tijiaodingdan.vue","webpack:///C:/Users/PC/Desktop/A_project/waimai/hnqt_xcx/pages-other/electronics/tijiaodingdan.vue?5c57","webpack:///C:/Users/PC/Desktop/A_project/waimai/hnqt_xcx/pages-other/electronics/tijiaodingdan.vue?0850"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","show","shop","url1","length","zongshu","delivery_price","box_price","shanjia_name","address","address_name","address_phone","gender","address_id","remake","couponList","select","manyprice","onLoad","uni","user_id","campus_id","checked","res","Object","console","title","icon","methods","checkboxChange","el","otherFun","close","submit","goods_id","goods_num","buy_goods","buy_number","use_coupon","store_id","provider","timeStamp","nonceStr","package","signType","paySign","success","url","fail","on_page","delta"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,sBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACc;;;AAG1E;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAA4zB,CAAgB,2yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eC+Fh1B;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAC;IAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;IACA;IACAA;MACAC;IACA;MACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;UACA;QACA;MACA;IACA;IACA;IACAD;MACAC;MACAC;IACA;MACA;MACA;QACAC;MACA;MACAC;QACAC;MACA;MACA;MACAD;QACA;UACA;QACA;MACA;IACA;MACAE;MACAN;QACAO;QACAC;MACA;IACA;IACA;IACAR;MACAC;IACA;MACA;IAAA,CACA;MACAK;MACAN;QACAO;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;UACAA;QACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAd;UACAO;UACAC;QACA;QACA;MACA;MACA;MACA;MACA;QACA;UACAO;UACAC;QACA;UACAD;UACAC;QACA;MACA;MACA;MACAhB;QACAC;QACAgB;QACAC;QACAxB;QACAyB;QACAC;QACAzB;MACA;QACAK;QACAA;UACAqB;UACAC;UACAC;UACAC;UACAC;UACAC;UACAC;YACA3B;cACA4B;YACA;UACA;UACAC;YACA7B;cACA4B;YACA;UACA;QACA;MACA;QACAtB;QACAN;UACAO;UACAC;QACA;MACA;IACA;IACA;IACAsB;MACA9B;QACA+B;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5RA;AAAA;AAAA;AAAA;AAA+gD,CAAgB,06CAAG,EAAC,C;;;;;;;;;;;ACAniD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages-other/electronics/tijiaodingdan.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages-other/electronics/tijiaodingdan.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./tijiaodingdan.vue?vue&type=template&id=26cb11f3&\"\nvar renderjs\nimport script from \"./tijiaodingdan.vue?vue&type=script&lang=js&\"\nexport * from \"./tijiaodingdan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tijiaodingdan.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages-other/electronics/tijiaodingdan.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tijiaodingdan.vue?vue&type=template&id=26cb11f3&\"","var components\ntry {\n  components = {\n    uNavbar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-navbar/u-navbar\" */ \"@/uni_modules/uview-ui/components/u-navbar/u-navbar.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var a0 = {\n    fontsize: \"10\",\n    color: \"#000000\",\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        a0: a0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tijiaodingdan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tijiaodingdan.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<u-navbar title=\" \" :autoBack=\"true\" bgColor=\"transparent\" leftIcon=\"arrow-left\" :fixed=\"true\"\r\n\t\t\t:placeholder=\"true\" :titleStyle=\"{\r\n\t\t\t'fontsize':'10',\r\n\t\t\tcolor:'#000000'\r\n\t\t}\">\r\n\t\t</u-navbar>\r\n\t\t<view class=\"goods\">\r\n\t\t\t<navigator url=\"../address/wodedizhi\">\r\n\t\t\t\t<view style=\"display: flex;align-items: center;justify-content: space-between;\">\r\n\t\t\t\t\t<view style=\"display: flex;flex-flow: column;\">\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tstyle=\"font-size: 30rpx;font-weight: bold;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;\">{{address}}</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\tstyle=\"font-size: 25rpx;margin-top: 10rpx;color: gray;\">{{address_name}}{{item.gender==0?'男士':'女士'}}{{address_phone}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#808080\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</navigator>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"goods\">\r\n\t\t\t<view @click=\"on_page\" class=\"store\">\r\n\t\t\t\t<text>{{shanjia_name}}</text>\r\n\t\t\t\t<u-icon name=\"arrow-right\" color=\"#808080\"></u-icon>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"foot\" v-for=\"(item,index) in shop\" :key=\"index\" v-if=\"item.num!=0?true:false\">\r\n\t\t\t\t<image :src=\"url1+item.image\"></image>\r\n\t\t\t\t<view class=\"foot_name\">\r\n\t\t\t\t\t<view class=\"foot_1\">\r\n\t\t\t\t\t\t<text>{{item.name}}</text>\r\n\t\t\t\t\t\t<text class=\"foot_title\" v-if=\"item.difference\">{{item.difference}}</text>\r\n\t\t\t\t\t\t<text class=\"foot_title\">×{{item.goods_num}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"foot_2\" v-if=\"!item.salesprice\">\r\n\t\t\t\t\t\t￥{{item.price}}</view>\r\n\t\t\t\t\t<view class=\"foot_2\" v-else>\r\n\t\t\t\t\t\t￥{{item.salesprice}}<text\r\n\t\t\t\t\t\t\tstyle=\"color: #a1a1a1;text-decoration:line-through;\">￥{{item.price}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"goods\">\r\n\t\t\t<text\r\n\t\t\t\tstyle=\"font-weight: bold;display:block;;font-size: 28rpx;color: #333333;margin-bottom: 22rpx;\">备注</text>\r\n\t\t\t<u--textarea autoHeight v-model=\"remake\" placeholder=\"比如:加辣\"></u--textarea>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"goods\">\r\n\t\t\t<!-- <view class=\"row\">\r\n\t\t\t\t打包费<text>￥{{box_price}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"row\">\r\n\t\t\t\t配送费<text>￥{{delivery_price}}</text>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- 优惠卷 -->\r\n\t\t\t<!-- <block v-if=\"couponList!=''\">\r\n\t\t\t\t<view class=\"row\">\r\n\t\t\t\t\t满减优惠券<text @click=\"show = true\">{{select=='请选择'?select:'-'+select}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-popup :show=\"show\" @close=\"close\" mode=\"center\" bgColor=\"transparent\">\r\n\t\t\t\t\t<u-radio-group placement=\"column\">\r\n\t\t\t\t\t\t<view class=\"coupon\" v-for=\"(item,index) in couponList\" :key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"checkboxChange(item)\">\r\n\t\t\t\t\t\t\t<text>有效期至{{item.end_time}}</text>\r\n\t\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t\t<h1>￥{{item.discount_money}}</h1>\r\n\t\t\t\t\t\t\t\t<text>满{{item.full_money}}可用</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<u-radio name=\"index\" :checked=\"item.checked\"></u-radio>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</u-radio-group>\r\n\t\t\t\t</u-popup>\r\n\t\t\t</block> -->\r\n\t\t\t<view style=\"text-align: right;font-weight: bold;font-size: 28rpx;color:#333333;\">\r\n\t\t\t\t<view style=\"color:#333333;\">小计 ￥{{manyprice}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"pay\">\r\n\t\t\t<text class=\"name\">支付方式</text>\r\n\t\t\t<text class=\"result\">微信支付</text>\r\n\t\t</view>\r\n\t\t<view class=\"br\"></view>\r\n\t\t<view class=\"submit\">\r\n\t\t\t<view class=\"name\">应支付:￥{{manyprice}}</view>\r\n\t\t\t<view class=\"btn\" @click=\"submit\">提交订单</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshow: false,\r\n\t\t\t\tshop: [],\r\n\t\t\t\turl1: 'http://waimai.com',\r\n\t\t\t\tlength: '',\r\n\t\t\t\tzongshu: '',\r\n\t\t\t\tdelivery_price: '',\r\n\t\t\t\tbox_price: '',\r\n\t\t\t\tshanjia_name: '',\r\n\t\t\t\taddress: '',\r\n\t\t\t\taddress_name: '',\r\n\t\t\t\taddress_phone: '',\r\n\t\t\t\tgender: '',\r\n\t\t\t\taddress_id: '',\r\n\t\t\t\tremake: '',\r\n\t\t\t\tcouponList: [],\r\n\t\t\t\tselect: '请选择',\r\n\t\t\t\tmanyprice: ''\r\n\t\t\t};\r\n\t\t},\r\n\t\t// computed: {\r\n\t\t// \tnewArr: function() {\r\n\t\t// \t\treturn JSON.parse(JSON.stringify(this.couponList))\r\n\t\t// \t}\r\n\t\t// },\r\n\t\t// watch:{\r\n\t\t// \tnewArr: {\r\n\t\t// \t\thandler: function(val, oldval){\r\n\t\t// \t\t\tconsole.log(val, oldval)\r\n\t\t// \t\t},\r\n\t\t// \t\tdeep: true\r\n\t\t// \t}\r\n\t\t// },\r\n\t\tonLoad(options) {\r\n\t\t\tthis.length = JSON.parse(Object.values(options)).length\r\n\t\t\tthis.shop = JSON.parse(Object.values(options))\r\n\t\t\tthis.manyprice = this.zongshu = uni.getStorageSync('total')\r\n\t\t\tthis.delivery_price = JSON.parse(Object.values(options))[0].delivery_price\r\n\t\t\tthis.shanjia_name = JSON.parse(Object.values(options))[0].shanjia_name\r\n\t\t\tthis.box_price = JSON.parse(Object.values(options))[0].box_price\r\n\t\t\tuni.setStorageSync('shanjia_name', JSON.parse(Object.values(options))[0].shanjia_name)\r\n\t\t\t// 默认地址\r\n\t\t\tuni.$u.http.post('api/users/getuseraddresslist', {\r\n\t\t\t\tuser_id: uni.getStorageSync('user').user_id,\r\n\t\t\t}).then(res => {\r\n\t\t\t\tfor (let index in res.data.data) {\r\n\t\t\t\t\tif (res.data.data[index].is_default == 1) {\r\n\t\t\t\t\t\tthis.address = res.data.data[index].delivery_address\r\n\t\t\t\t\t\tthis.address_name = res.data.data[index].delivery_name\r\n\t\t\t\t\t\tthis.address_phone = res.data.data[index].delivery_phone\r\n\t\t\t\t\t\tthis.gender = res.data.data[index].gender\r\n\t\t\t\t\t\tthis.address_id = res.data.data[index].address_id\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.address = '请选择一个地址'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// 获取优惠卷\r\n\t\t\tuni.$u.http.post('api/users/getusercunponlist', {\r\n\t\t\t\tuser_id: uni.getStorageSync('user').user_id,\r\n\t\t\t\tcampus_id: uni.getStorageSync('campus_id')\r\n\t\t\t}).then(res => {\r\n\t\t\t\t// console.log(res)\r\n\t\t\t\tlet checked = {\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t}\r\n\t\t\t\tres.data.data.forEach(el => {\r\n\t\t\t\t\tObject.assign(el, checked)\r\n\t\t\t\t})\r\n\t\t\t\t// 判断是否总金额是否达标满减要求\r\n\t\t\t\tres.data.data.forEach(el => {\r\n\t\t\t\t\tif (this.zongshu >= parseInt(el.full_money)) {\r\n\t\t\t\t\t\tthis.couponList.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log('400', err)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取优惠卷接口出错',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t// 获取月卡\r\n\t\t\tuni.$u.http.post('api/orders/wxpay_card', {\r\n\t\t\t\tuser_id: uni.getStorageSync('user').user_id\r\n\t\t\t}).then(res => {\r\n\t\t\t\t// console.log(res)\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log('400', err)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '获取月卡接口出错',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcheckboxChange(e) {\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tthis.select = e.discount_money\r\n\t\t\t\tthis.manyprice = this.zongshu - e.discount_money\r\n\t\t\t\tthis.show = false\r\n\t\t\t\tthis.use_coupon = e.id\r\n\t\t\t\tthis.couponList.forEach(el => {\r\n\t\t\t\t\tif (e.id === el.id) {\r\n\t\t\t\t\t\tel.checked = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tel.checked = false\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//接收地址\r\n\t\t\totherFun(object) {\r\n\t\t\t\tif (!!object) {\r\n\t\t\t\t\tthis.address = object.delivery_address\r\n\t\t\t\t\tthis.address_name = object.delivery_name\r\n\t\t\t\t\tthis.address_phone = object.delivery_phone\r\n\t\t\t\t\tthis.address_id = object.address_id\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\t\t\t// 提交订单\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (!this.address_id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择地址',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet goods_id = [];\r\n\t\t\t\tlet goods_num = [];\r\n\t\t\t\tthis.shop.forEach(function(item, index) {\r\n\t\t\t\t\tif (item.goods_num != 0) {\r\n\t\t\t\t\t\tgoods_id.push(item.goods_id + ':' + (item.id ? item.id : ''))\r\n\t\t\t\t\t\tgoods_num.push(item.goods_num)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tgoods_id.splice(index, item.goods_id)\r\n\t\t\t\t\t\tgoods_num.splice(index, item.goods_num)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// 商家订单接口\r\n\t\t\t\tuni.$u.http.post('api/orders/wxpay_digital_good', {\r\n\t\t\t\t\tuser_id: uni.getStorageSync('user').user_id,\r\n\t\t\t\t\tbuy_goods: goods_id.toString(),\r\n\t\t\t\t\tbuy_number: goods_num.toString(),\r\n\t\t\t\t\taddress_id: this.address_id,\r\n\t\t\t\t\tuse_coupon: this.use_coupon,\r\n\t\t\t\t\tstore_id: uni.getStorageSync('store_id'),\r\n\t\t\t\t\tremake: this.remake //备注\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tuni.setStorageSync('order_number', res.data.data.order_number)\r\n\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\t\ttimeStamp: res.data.data.timeStamp,\r\n\t\t\t\t\t\tnonceStr: res.data.data.nonceStr,\r\n\t\t\t\t\t\tpackage: res.data.data.package,\r\n\t\t\t\t\t\tsignType: res.data.data.signType,\r\n\t\t\t\t\t\tpaySign: res.data.data.paySign,\r\n\t\t\t\t\t\tsuccess: function(ress) {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: './dingdantijiao'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: './dingdantijiao'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\tconsole.log('400', err)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '商家订单接口出错',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 返回商家\r\n\t\t\ton_page() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.u-navbar--fixed {\r\n\t\tbackground: linear-gradient(to right, #fedb74, #ffbf80);\r\n\t}\r\n\r\n\tpage {\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.goods {\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tmargin: auto;\r\n\t\tborder-radius: 20rpx;\r\n\t\tmargin: 30rpx;\r\n\t\tpadding: 30rpx;\r\n\r\n\t\t.store {\r\n\t\t\tborder-bottom: 1rpx solid #F5F5F5;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin-bottom: 22rpx;\r\n\t\t\tpadding-bottom: 22rpx;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333333;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.foot {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-bottom: 22rpx;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 80rpx;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.foot_name {\r\n\t\t\t\tmargin-left: 15rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t.foot_1 {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-flow: column;\r\n\r\n\t\t\t\t\t.foot_title {\r\n\t\t\t\t\t\tcolor: #808080;\r\n\t\t\t\t\t\tfont-size: 25rpx;\r\n\t\t\t\t\t\tmargin-top: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.foot_2 {\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tfont-size: 14px;\r\n\t\t\t\t\tcolor: #333333;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.row {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333333;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 22rpx;\r\n\r\n\t\ttext {\r\n\t\t\tcolor: #333333;\r\n\t\t}\r\n\t}\r\n\r\n\t.br {\r\n\t\theight: 90rpx;\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t}\r\n\r\n\t.coupon {\r\n\t\tbackground: linear-gradient(to right, red, orange);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 10rpx;\r\n\t\t// border-radius: 3px;\r\n\t\tmargin: 2px;\r\n\t}\r\n\r\n\t.coupon>text {\r\n\t\tbackground: #f7dd93;\r\n\t\tcolor: red;\r\n\t\t// border-radius: 3px;\r\n\t\tpadding: 40rpx 20rpx;\r\n\t}\r\n\r\n\t.coupon .right {\r\n\t\tdisplay: flex;\r\n\t\tflex-flow: column;\r\n\t\talign-items: center;\r\n\t\tcolor: white;\r\n\t\tmargin: 0 10px;\r\n\t}\r\n\r\n\t.coupon .right h1 {\r\n\t\tfont-size: 20px;\r\n\t}\r\n\r\n\t.coupon .right text {\r\n\t\tfont-size: 11px;\r\n\t}\r\n\r\n\t.submit {\r\n\t\tpadding-bottom: constant(safe-area-inset-bottom);\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t\tposition: fixed;\r\n\t\tbottom: 0rpx;\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\theight: 90rpx;\r\n\t\tbackground-color: #333333;\r\n\t\tcolor: #FFFFFF;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tfont-weight: bold;\r\n\r\n\t\t.name {\r\n\t\t\tmargin-left: 20rpx;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tbackground-color: #42CA47;\r\n\t\t\twidth: 30%;\r\n\t\t\theight: 100%;\r\n\t\t\tline-height: 90rpx;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\t}\r\n\r\n\t.pay {\r\n\t\twidth: 93%;\r\n\t\theight: 80rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tmargin: 30rpx auto;\r\n\t\tborder-radius: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.name {\r\n\t\t\tfont-weight: bold;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #333333;\r\n\t\t\tpadding-left: 30rpx;\r\n\t\t}\r\n\r\n\t\t.result {\r\n\t\t\tcolor: #333333;\r\n\t\t\tcolor: #999999;\r\n\t\t\tpadding-right: 30rpx;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tijiaodingdan.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tijiaodingdan.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1710493583218\n      var cssReload = require(\"C:/Users/PC/Downloads/HBuilderX.3.99.2023122611/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}